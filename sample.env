###############################################################
# üß† MAGI-CORE - Environment Configuration
# Copy this file to `.env` and adjust as needed.
# -------------------------------------------------------------
# Core settings for Bun + MCP local server and connectors.
###############################################################

###############################
# üì¶ Core Server Configuration
###############################

# Path to your local SQLite DB file (absolute or relative)
TASKS_DB_PATH=./data/tasks.db

# Directory for database migrations (for reference only)
MIGRATIONS_PATH=./packages/server/src/db/migrations

# Path for exported markdown task list
MARKDOWN_PATH=./tasks.md

# Environment mode
NODE_ENV=development

# Logging verbosity: info | debug | warn | error
LOG_LEVEL=info

# Port or stdio transport for MCP server
MCP_TRANSPORT=stdio

###############################
# üóÉÔ∏è SQLite (Local Operational DB)
###############################

# No additional vars usually required ‚Äî the driver reads TASKS_DB_PATH.
# You can override these if using a remote SQLite instance or custom file.
SQLITE_PRAGMA_JOURNAL_MODE=WAL
SQLITE_PRAGMA_SYNCHRONOUS=2

###############################
# ü¶Ü DuckDB (Analytical Store)
###############################

# File where DuckDB snapshots or parquet files are written
DUCKDB_PATH=./data/analytics.duckdb

# Path to exported parquet snapshot directory
DUCKDB_SNAPSHOT_PATH=./data/snapshots

# How often to refresh DuckDB snapshot from SQLite (minutes)
DUCKDB_REFRESH_INTERVAL_MIN=30

###############################
# üß≠ Qdrant (Vector Database)
###############################

# Enable/disable vector search layer
QDRANT_ENABLED=true

# Local Qdrant host + port
QDRANT_HOST=127.0.0.1
QDRANT_PORT=6333

# Collection name for embeddings
QDRANT_COLLECTION=tasks_vec

# Dimensionality of vector embeddings
QDRANT_VECTOR_DIM=1536

# API key (optional for local Docker instance)
QDRANT_API_KEY=

###############################
# üí¨ Slack Connector
###############################

# Slack app token for Socket Mode (xapp-*)
SLACK_APP_TOKEN=xapp-...

# Slack bot token for posting & reading messages (xoxb-*)
SLACK_BOT_TOKEN=xoxb-...

# Signing secret (for verifying requests)
SLACK_SIGNING_SECRET=...

# Comma-separated list of channels to sync
SLACK_ALLOWED_CHANNELS=#dev,#ai,#support

# Sweep interval (minutes)
SLACK_SWEEPER_MINUTES=10

###############################
# üìß Microsoft 365 / Outlook / Calendar Connector
###############################

# Azure tenant ID (GUID)
MS_TENANT_ID=...

# Azure client ID (app registration)
MS_CLIENT_ID=...

# Azure client secret (optional; device code auth otherwise)
MS_CLIENT_SECRET=

# Polling interval for inbox & calendar (minutes)
MS_POLL_MINUTES=5

# Default mail folders to sync (comma-separated)
MS_MAIL_FOLDERS=Inbox,Important

###############################
# üß† Embeddings / AI Settings (future expansion)
###############################

# Default embedding provider: openai | local | none
EMBEDDING_PROVIDER=openai

# Model name for embedding generation
EMBEDDING_MODEL=text-embedding-3-small

# OpenAI or compatible API key
OPENAI_API_KEY=

###############################
# ‚öôÔ∏è Developer / Diagnostics
###############################

# Enable debug mode for MCP logs
DEBUG_MCP=false

# Enable query logging for SQLite + DuckDB
LOG_DB_QUERIES=false

# Maximum concurrent background jobs
MAX_CONCURRENT_JOBS=4

# Temporary directory for exports or batch processing
TMP_PATH=./tmp

###############################################################
# END OF FILE
###############################################################